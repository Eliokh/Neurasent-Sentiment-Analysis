<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Neurasent</title>

    <!-- Logo -->
    <link
      rel="icon"
      href="{{ url_for('static', filename='images/logo.ico') }}"
      type="image/x-icon"
    />

    <!-- Custom.css -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <head>
      <!-- Bootstrap CDN -->
      <link
        rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      />
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    </head>
    

    <style>
      .label {
        color: #fff;
      }
    </style>
    <!-- JQuery -->
    <script
      src="https://code.jquery.com/jquery-3.6.4.min.js"
      integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
      crossorigin="anonymous"
    ></script>
  </head>
  
  <body>

    <!-- The video -->
<!-- <video autoplay muted loop id="myVideo">
  <source src="desktop.mp4" type="video/mp4">
  <source src="desktop.webm" type="video/webm">
  <source src="desktop.ogg" type="video/ogg">
</video> -->

<div class="video-background">
  <video autoplay loop muted>
    <source src="{{ url_for('static', filename='images/desktop.mp4') }}" type="video/mp4">
  </video>
</div>


<!-- The body content -->
<div class="content">
  <!-- Your body content goes here -->
</div>

    
    <div
      class="modal fade"
      id="alertModal"
      tabindex="-1"
      aria-labelledby="centeredModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="alertModalTitle">Alert</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="alert alert-danger" role="alert">
              {% if error %} {{ error }} {% endif %}
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="Modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="ModalLabel"
      data-backdrop="static"
      data-keyboard="false"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-body" style="text-align: center">
            <img
              src="{{ url_for('static', filename='images/spinner2.gif') }}"
              alt="Spinner"
            />

            <p id="loading_text">Loading...</p>
          </div>
        </div>
      </div>
    </div>

    <div class="cursor">
      <div class="cursor__inner cursor-circle"></div>
      <div class="cursor__inner cursor-dot"></div>
    </div>

    <div class="navbar navbar-fixed-top">
      <div class="container navbar-card">
        <div class="navbar-header">
          
          
         
          <div class="navbar-brand neurasent-logo">
            <img width="25" height="25" src="{{ url_for('static', filename='images/logoAI.png') }}" />
            <a href="{{ url_for('index') }}" class="cool-title">Neurasent</a>
          </div>
        
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a href="mailto:elio.khawand@gmail.com">ELIO KHAWAND</a></li>
              <li><a href="mailto:karim.yazbek@gmail.com">KARIM YAZBECK</a></li>
            </ul>
          </div>
        </div>
        <!-- <button type="button" class="navbar-toggle futuristic-button" data-toggle="collapse" data-target=".navbar-collapse" style="font-family: 'Orbitron', sans-serif; border-radius: 10px; box-shadow: 0 0 10px #00FFFF; background-color: #09266f; color: #00FFFF;"/>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="futuristic-text">Email Us</span> -->
        <p class="futuristic-text email-us" data-toggle="collapse" data-target=".navbar-collapse">Email Us</p>
        
      </button>  
      
      </div>
      
    </div>
    
    <div class="container body-content main-container">
      <h1 class="cool-title">BOOST YOUR BUYING AND SELLING PERFORMANCE</h1>
      <h2 class="subtitle">Learn from the Wisdom of the Crowd</h2>
      <!-- Rest of the HTML content omitted for brevity -->
    </div>
    

    <div class="container skew body-content main-container">
      <!-- <div class="row main-titles">
        <h2>Scrape the internet in seconds</h2>
      </div> -->
      <form
        novalidate
        id="search-form"
        action="{{ url_for('search') }}"
        method="GET"
      >
        <div class="row" style="justify-content: center">
          <div class="col-6">
            <input
              type="text"
              class="form-control search-box"
              name="query"
              placeholder="Search for a product"
              autocomplete="off"
              required="required"
            />
          </div>
          <div class="col-1">
            <input type="submit" class="btn btn-primary" value="Search" 
            style="font-family: 'Orbitron', sans-serif; border-radius: 10px; box-shadow: 0 0 10px #00FFFF; background-color: #000000; color: #00FFFF;"/>
          </div>
        </div>
        <br />
        <div class="row" style="justify-content: center">
          <div class="col-2">
            <label class="label" style="font-family: 'Orbitron', sans-serif; color: #ffffff; text-shadow: 0 0 10px rgb(7, 
            187,247)">Product Quantity</label>
            <input
              type="number"
              class="form-control"
              name="nbProducts"
              placeholder="3"
              autocomplete="off"
              value="3"
            />
          </div>
          <div class="col-2">
            <label class="label" style="font-family: 'Orbitron', sans-serif; color: #ffff; text-shadow: 0 0 10px rgb(7, 
            187,247)">Page Count</label>
            <input
              type="number"
              class="form-control"
              name="nbPages"
              placeholder="1"
              autocomplete="off"
              value="1"
            />
          </div>
          <div class="col-2">
            <label class="label" style="font-family: 'Orbitron', sans-serif; color: #ffff; text-shadow: 0 0 10px rgb(7, 
            187,247)">Analysis</label>
            <input
              type="checkbox"
              class=""
              name="synthesis"
              placeholder="Synthesis"
              checked
            />
          </div>
        </div>
      </form>
      <!-- <button type="button" id="myButton" class="btn btn-primary">
        Open Modal
      </button> -->
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>

    <script src="{{ url_for('static', filename='js/cursor.js') }}"></script>

    <script>
      $(document).ready(function () {
        $("#Modal").modal({
          backdrop: "static",
          keyboard: false,
        });
        $("#search-form").on("submit", function () {
          //$("#myButton").click(function () {
          $("#Modal").modal("show");
          //$(".navbar").animate({ top: -$(".navbar").outerHeight() }, 300);
        });

        // change loading text every second
        var loading_texts = [
          "Scraping the web...",
          "AI Analysis...",
          "Grabbing Product Reviews...",
          "Building Dashboards...",
          "Loading Images...",
          "Analyzing the Data...",
          "AI Synthesis...",
        ]; // Array of texts to cycle through
        var currentIndex = 0; // Index of the current text

        function changeText() {
          $("#loading_text").text(loading_texts[currentIndex]); // Update the text

          // Increment the index or reset to 0 if it exceeds the array length
          currentIndex = (currentIndex + 1) % loading_texts.length;
        }

        // Call the changeText function every second (1000 milliseconds)
        setInterval(changeText, 2500);

        // check if there was an error
        {% if error %}
            $('#alertModal').modal('show');
        {% endif %}
        // {% if backToPage %}
        //     $('#Modal').modal('hide');
        //     console.log("BACK TO PAGE")
        // {% endif %}

        //$('.navbar').slideUp();


        // hide loading modal if we are coming back from search page
        $(window).on('pageshow', function(event) {
        // Check if the event persisted property is false, indicating the page is loaded from the cache
        if (event.originalEvent.persisted) {
          // Hide the modal when navigating back to the page
          $('#Modal').modal('hide');
        }
      });

      });
    </script>
  </body>
</html>
